å›¢é˜Ÿè®°è´¦å·¥å…·é¡¹ç›®ä»£ç 

ä¸‹é¢æ˜¯åŸºäº Flask çš„å›¢é˜Ÿè®°è´¦ Web åº”ç”¨å®Œæ•´é¡¹ç›®ä»£ç ï¼ŒåŒ…æ‹¬é¡¹ç›®ç»“æ„ã€ä¸»è¦ä»£ç æ–‡ä»¶ã€æ¨¡æ¿ï¼Œä»¥åŠä¾èµ–å®‰è£…å’Œè¿è¡Œè¯´æ˜ã€‚

é¡¹ç›®ç»“æ„

team_accounting/               # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ app.py                     # Flask åº”ç”¨å…¥å£
â”œâ”€â”€ config.py                  # é…ç½®æ–‡ä»¶ï¼ˆå¦‚ SECRET_KEYã€æ•°æ®åº“URIï¼‰
â”œâ”€â”€ models.py                  # æ•°æ®æ¨¡å‹å®šä¹‰ï¼ˆUser, Tag, Expenseï¼‰
â”œâ”€â”€ requirements.txt           # é¡¹ç›®ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ auth/                      # èº«ä»½è®¤è¯åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py            # å®šä¹‰ auth Blueprint
â”‚   â””â”€â”€ routes.py              # æ³¨å†Œã€ç™»å½•ã€ç™»å‡ºè·¯ç”±
â”œâ”€â”€ main/                      # æ™®é€šç”¨æˆ·åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py            # å®šä¹‰ main Blueprint
â”‚   â””â”€â”€ routes.py              # æäº¤ç”³è¯·ã€æŸ¥çœ‹è‡ªèº«ç”³è¯·è·¯ç”±
â”œâ”€â”€ admin/                     # ç®¡ç†å‘˜åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py            # å®šä¹‰ admin Blueprint
â”‚   â””â”€â”€ routes.py              # å®¡æ ¸ã€åˆ†ç±»ç®¡ç†ã€ç»Ÿè®¡å¯¼å‡ºè·¯ç”±
â”œâ”€â”€ templates/                 # å‰ç«¯æ¨¡æ¿
â”‚   â”œâ”€â”€ base.html              # åŸºç¡€é¡µé¢æ¡†æ¶æ¨¡æ¿
â”‚   â”œâ”€â”€ auth/                  # auth æ¨¡å—ç›¸å…³æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ login.html         # ç™»å½•é¡µé¢
â”‚   â”‚   â””â”€â”€ register.html      # æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ main/                  # main æ¨¡å—ç›¸å…³æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ submit.html        # æäº¤æŠ¥é”€ç”³è¯·é¡µé¢
â”‚   â”‚   â””â”€â”€ my_requests.html   # â€œæˆ‘çš„ç”³è¯·â€é¡µé¢
â”‚   â””â”€â”€ admin/                 # admin æ¨¡å—ç›¸å…³æ¨¡æ¿
â”‚       â”œâ”€â”€ pending.html       # å¾…å®¡æ ¸åˆ—è¡¨é¡µé¢
â”‚       â”œâ”€â”€ tags.html          # åˆ†ç±»åŠé¢„ç®—ç®¡ç†é¡µé¢
â”‚       â””â”€â”€ stats.html         # è´¢åŠ¡ç»Ÿè®¡é¡µé¢
â””â”€â”€ static/                    # é™æ€æ–‡ä»¶ç›®å½•ï¼ˆä¿å­˜å›¾è¡¨ç­‰ï¼‰
    â””â”€â”€ ...                    # ä¾‹å¦‚ç”Ÿæˆçš„ç»Ÿè®¡å›¾è¡¨ stats.png

ä¸»è¦ä»£ç æ–‡ä»¶

ä¸‹é¢æŒ‰æ–‡ä»¶åˆ—å‡ºé¡¹ç›®çš„å®Œæ•´ä»£ç ï¼š

app.py (åº”ç”¨å…¥å£)

from flask import Flask
from config import Config
from models import db, User
from flask_login import LoginManager
from auth import auth_bp
from main import main_bp
from admin import admin_bp

app = Flask(__name__)
app.config.from_object(Config)

# åˆå§‹åŒ–æ•°æ®åº“å’Œç™»å½•ç®¡ç†
db.init_app(app)
login_manager = LoginManager(app)
login_manager.login_view = 'auth.login'

@login_manager.user_loader
def load_user(user_id):
    return User.query.get(int(user_id))

# åˆ›å»ºæ•°æ®åº“è¡¨ï¼ˆå¦‚å°šæœªåˆ›å»ºï¼‰
with app.app_context():
    db.create_all()

# æ³¨å†Œå„åŠŸèƒ½æ¨¡å—çš„ Blueprint
app.register_blueprint(auth_bp)
app.register_blueprint(main_bp)
app.register_blueprint(admin_bp)

if __name__ == '__main__':
    app.run(debug=True)

config.py (é…ç½®)

import os

class Config:
    SECRET_KEY = os.environ.get('SECRET_KEY') or 'your_secret_key_here'
    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or 'sqlite:///team_accounting.db'
    SQLALCHEMY_TRACK_MODIFICATIONS = False

models.py (æ•°æ®æ¨¡å‹å®šä¹‰)

from flask_sqlalchemy import SQLAlchemy
from flask_login import UserMixin
from datetime import date

# åˆå§‹åŒ–æ•°æ®åº“ï¼ˆåœ¨ app.py ä¸­å®Œæˆä¸ Flask app çš„ç»‘å®šï¼‰
db = SQLAlchemy()

class User(UserMixin, db.Model):
    __tablename__ = 'users'
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(50), unique=True, nullable=False)
    password_hash = db.Column(db.String(128), nullable=False)
    is_admin = db.Column(db.Boolean, default=False)
    # å…³è”åˆ°ç”¨æˆ·æäº¤çš„æ‰€æœ‰æŠ¥é”€ç”³è¯·
    expenses = db.relationship('Expense', backref='user', lazy=True)

class Tag(db.Model):
    __tablename__ = 'tags'
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(50), unique=True, nullable=False)
    budget = db.Column(db.Float, nullable=False)
    # å…³è”åˆ°è¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰æŠ¥é”€ç”³è¯·
    expenses = db.relationship('Expense', backref='tag', lazy=True)

class Expense(db.Model):
    __tablename__ = 'expenses'
    id = db.Column(db.Integer, primary_key=True)
    amount = db.Column(db.Float, nullable=False)
    purpose = db.Column(db.String(200), nullable=False)
    date = db.Column(db.Date, nullable=False, default=date.today)
    status = db.Column(db.String(20), nullable=False, default='pending')  # 'pending', 'approved', 'rejected'
    # å¤–é”®å…³è”
    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)
    tag_id = db.Column(db.Integer, db.ForeignKey('tags.id'), nullable=False)

auth/init.py (è®¤è¯æ¨¡å— Blueprint å®šä¹‰)

from flask import Blueprint

auth_bp = Blueprint('auth', __name__, url_prefix='/auth')

from . import routes

auth/routes.py (æ³¨å†Œã€ç™»å½•ã€ç™»å‡ºåŠŸèƒ½è·¯ç”±)

from flask import render_template, redirect, url_for, request, flash
from flask_login import current_user, login_user, logout_user
from werkzeug.security import generate_password_hash, check_password_hash
from . import auth_bp
from models import db, User

@auth_bp.route('/register', methods=['GET', 'POST'])
def register():
    # å¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œç›´æ¥é‡å®šå‘
    if current_user.is_authenticated:
        if current_user.is_admin:
            return redirect(url_for('admin.pending_requests'))
        else:
            return redirect(url_for('main.submit_request'))
    if request.method == 'POST':
        username = request.form.get('username')
        password = request.form.get('password')
        if not username or not password:
            flash('Username and password are required.', 'warning')
            return render_template('auth/register.html')
        existing_user = User.query.filter_by(username=username).first()
        if existing_user:
            flash('Username already taken, please choose another.', 'danger')
            return render_template('auth/register.html')
        # åˆ›å»ºæ–°ç”¨æˆ·
        new_user = User(username=username, password_hash=generate_password_hash(password))
        # å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·ï¼Œèµ‹äºˆç®¡ç†å‘˜æƒé™
        if User.query.first() is None:
            new_user.is_admin = True
        db.session.add(new_user)
        db.session.commit()
        # è‡ªåŠ¨ç™»å½•æ–°æ³¨å†Œç”¨æˆ·
        login_user(new_user)
        flash('Registration successful. Welcome!', 'success')
        # æ ¹æ®è§’è‰²è·³è½¬ï¼šç®¡ç†å‘˜è·³è½¬ç®¡ç†å‘˜é¡µé¢ï¼Œæ™®é€šç”¨æˆ·è·³è½¬æäº¤é¡µé¢
        if new_user.is_admin:
            return redirect(url_for('admin.pending_requests'))
        else:
            return redirect(url_for('main.submit_request'))
    # GET è¯·æ±‚æ¸²æŸ“æ³¨å†Œé¡µé¢
    return render_template('auth/register.html')

@auth_bp.route('/login', methods=['GET', 'POST'])
def login():
    if current_user.is_authenticated:
        # å·²ç™»å½•åˆ™è·³è½¬ç›¸åº”é¡µé¢
        if current_user.is_admin:
            return redirect(url_for('admin.pending_requests'))
        else:
            return redirect(url_for('main.submit_request'))
    if request.method == 'POST':
        username = request.form.get('username')
        password = request.form.get('password')
        user = User.query.filter_by(username=username).first()
        if user and check_password_hash(user.password_hash, password):
            login_user(user)
            flash('Logged in successfully.', 'success')
            # å¦‚æœæ˜¯è¢«å¼ºåˆ¶è·³è½¬ç™»å½•çš„ï¼Œå¤„ç† next å‚æ•°
            next_page = request.args.get('next')
            if next_page:
                return redirect(next_page)
            # å¦åˆ™æ ¹æ®è§’è‰²è·³è½¬
            if user.is_admin:
                return redirect(url_for('admin.pending_requests'))
            else:
                return redirect(url_for('main.submit_request'))
        else:
            flash('Invalid username or password.', 'danger')
    return render_template('auth/login.html')

@auth_bp.route('/logout')
def logout():
    if current_user.is_authenticated:
        logout_user()
    flash('You have been logged out.', 'info')
    return redirect(url_for('auth.login'))

main/init.py (æ™®é€šç”¨æˆ·åŠŸèƒ½ Blueprint å®šä¹‰)

from flask import Blueprint

main_bp = Blueprint('main', __name__)

from . import routes

main/routes.py (æäº¤æŠ¥é”€ã€æŸ¥çœ‹è‡ªå·±ç”³è¯·è·¯ç”±)

from flask import render_template, redirect, url_for, request, flash
from flask_login import current_user, login_required
from datetime import datetime
from . import main_bp
from models import db, Expense, Tag

@main_bp.route('/')
def index():
    # æœªç™»å½•åˆ™è·³è½¬ç™»å½•é¡µ
    if not current_user.is_authenticated:
        return redirect(url_for('auth.login'))
    # å·²ç™»å½•ï¼šç®¡ç†å‘˜è·³è½¬å®¡æ ¸é¡µé¢ï¼Œæ™®é€šç”¨æˆ·è·³è½¬æäº¤é¡µé¢
    if current_user.is_admin:
        return redirect(url_for('admin.pending_requests'))
    else:
        return redirect(url_for('main.submit_request'))

@main_bp.route('/submit', methods=['GET', 'POST'])
@login_required
def submit_request():
    # æŠ¥é”€ç”³è¯·æäº¤é¡µé¢ï¼ˆéœ€ç™»å½•åè®¿é—®ï¼‰
    tags = Tag.query.all()  # è·å–æ‰€æœ‰åˆ†ç±»æ ‡ç­¾ä¾›é€‰æ‹©
    if request.method == 'POST':
        amount_str = request.form.get('amount')
        purpose = request.form.get('purpose')
        date_str = request.form.get('date')
        tag_id = request.form.get('tag')
        # ç®€å•æ ¡éªŒ
        if not amount_str or not purpose or not date_str or not tag_id:
            flash('All fields are required.', 'warning')
            return render_template('main/submit.html', tags=tags)
        try:
            amount = float(amount_str)
        except ValueError:
            flash('Amount must be a number.', 'danger')
            return render_template('main/submit.html', tags=tags)
        # è§£ææ—¥æœŸ
        try:
            expense_date = datetime.strptime(date_str, '%Y-%m-%d').date()
        except Exception:
            flash('Invalid date format.', 'danger')
            return render_template('main/submit.html', tags=tags)
        tag = Tag.query.get(int(tag_id))
        if not tag:
            flash('Selected category not found.', 'danger')
            return render_template('main/submit.html', tags=tags)
        # åˆ›å»ºæ–°çš„æŠ¥é”€ç”³è¯·ï¼ˆçŠ¶æ€é»˜è®¤ä¸º pendingï¼‰
        new_expense = Expense(amount=amount, purpose=purpose, date=expense_date,
                               user_id=current_user.id, tag_id=tag.id)
        db.session.add(new_expense)
        db.session.commit()
        flash('Expense request submitted successfully.', 'success')
        return redirect(url_for('main.my_requests'))
    # GET è¯·æ±‚æ¸²æŸ“è¡¨å•é¡µé¢
    return render_template('main/submit.html', tags=tags)

@main_bp.route('/my_requests')
@login_required
def my_requests():
    # æŸ¥è¯¢å½“å‰ç”¨æˆ·çš„æ‰€æœ‰æŠ¥é”€ç”³è¯·ï¼ŒæŒ‰æ—¥æœŸå€’åº
    expenses = Expense.query.filter_by(user_id=current_user.id).order_by(Expense.date.desc()).all()
    return render_template('main/my_requests.html', expenses=expenses)

admin/init.py (ç®¡ç†å‘˜åŠŸèƒ½ Blueprint å®šä¹‰)

from flask import Blueprint

admin_bp = Blueprint('admin', __name__, url_prefix='/admin')

from . import routes

admin/routes.py (å®¡æ ¸ã€åˆ†ç±»é¢„ç®—ç®¡ç†ã€ç»Ÿè®¡å¯¼å‡ºè·¯ç”±)

from flask import render_template, redirect, url_for, request, flash, send_file
from flask_login import current_user, login_required
from . import admin_bp
from models import db, User, Expense, Tag
import pandas as pd
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
import io, os, time

@admin_bp.before_request
def admin_required():
    # ç®¡ç†å‘˜æƒé™æ ¡éªŒï¼šæœªç™»å½•æˆ–éç®¡ç†å‘˜åˆ™ç¦æ­¢è®¿é—®
    if not current_user.is_authenticated:
        return redirect(url_for('auth.login'))
    if not current_user.is_admin:
        flash('Admin access is required to view this page.', 'danger')
        return redirect(url_for('main.index'))

@admin_bp.route('/')
@login_required
def admin_index():
    # ç®¡ç†å‘˜é¦–é¡µé»˜è®¤è·³è½¬åˆ°å¾…å®¡æ ¸åˆ—è¡¨
    return redirect(url_for('admin.pending_requests'))

@admin_bp.route('/pending')
@login_required
def pending_requests():
    # è·å–æ‰€æœ‰å¾…å®¡æ ¸çš„æŠ¥é”€ç”³è¯·
    pending_list = Expense.query.filter_by(status='pending').order_by(Expense.date.desc()).all()
    return render_template('admin/pending.html', expenses=pending_list)

@admin_bp.route('/approve/<int:expense_id>', methods=['POST'])
@login_required
def approve_request(expense_id):
    expense = Expense.query.get_or_404(expense_id)
    if expense.status != 'pending':
        flash('Expense request is not pending.', 'warning')
        return redirect(url_for('admin.pending_requests'))
    tag = expense.tag  # é€šè¿‡ backref è·å–å…³è”çš„ Tag å¯¹è±¡
    # è®¡ç®—è¯¥åˆ†ç±»å·²æ‰¹å‡†çš„æ€»å¼€é”€
    current_spent = sum(e.amount for e in tag.expenses if e.status == 'approved')
    if current_spent + expense.amount > tag.budget:
        flash(f'Cannot approve: approving this would exceed budget for category "{tag.name}".', 'danger')
        return redirect(url_for('admin.pending_requests'))
    # æ›´æ–°çŠ¶æ€ä¸ºå·²æ‰¹å‡†
    expense.status = 'approved'
    db.session.commit()
    flash('Expense request approved and added to the ledger.', 'success')
    return redirect(url_for('admin.pending_requests'))

@admin_bp.route('/reject/<int:expense_id>', methods=['POST'])
@login_required
def reject_request(expense_id):
    expense = Expense.query.get_or_404(expense_id)
    if expense.status != 'pending':
        flash('Expense request is not pending.', 'warning')
        return redirect(url_for('admin.pending_requests'))
    # æ›´æ–°çŠ¶æ€ä¸ºå·²æ‹’ç»
    expense.status = 'rejected'
    db.session.commit()
    flash('Expense request has been rejected.', 'info')
    return redirect(url_for('admin.pending_requests'))

@admin_bp.route('/tags')
@login_required
def manage_tags():
    tags = Tag.query.all()
    total_budget = 0
    total_spent = 0
    # è®¡ç®—æ¯ä¸ªåˆ†ç±»å·²ç”¨é‡‘é¢
    for tag in tags:
        spent = sum(e.amount for e in tag.expenses if e.status == 'approved')
        tag.current_usage = spent
        total_budget += tag.budget
        total_spent += spent
    total_remaining = total_budget - total_spent
    return render_template('admin/tags.html', tags=tags, total_budget=total_budget,
                           total_spent=total_spent, total_remaining=total_remaining)

@admin_bp.route('/tags/add', methods=['POST'])
@login_required
def add_tag():
    name = request.form.get('name')
    budget_str = request.form.get('budget')
    if not name or not budget_str:
        flash('Name and budget are required for new category.', 'warning')
        return redirect(url_for('admin.manage_tags'))
    try:
        budget_val = float(budget_str)
    except ValueError:
        flash('Budget must be a number.', 'danger')
        return redirect(url_for('admin.manage_tags'))
    # æ£€æŸ¥åç§°æ˜¯å¦å·²å­˜åœ¨
    existing = Tag.query.filter_by(name=name).first()
    if existing:
        flash('Category name already exists.', 'danger')
        return redirect(url_for('admin.manage_tags'))
    new_tag = Tag(name=name, budget=budget_val)
    db.session.add(new_tag)
    db.session.commit()
    flash(f'Category "{name}" added.', 'success')
    return redirect(url_for('admin.manage_tags'))

@admin_bp.route('/tags/<int:tag_id>/update', methods=['POST'])
@login_required
def update_tag(tag_id):
    tag = Tag.query.get_or_404(tag_id)
    budget_str = request.form.get('budget')
    if not budget_str:
        flash('Budget value is required.', 'warning')
        return redirect(url_for('admin.manage_tags'))
    try:
        new_budget = float(budget_str)
    except ValueError:
        flash('Budget must be a number.', 'danger')
        return redirect(url_for('admin.manage_tags'))
    tag.budget = new_budget
    db.session.commit()
    flash(f'Budget for "{tag.name}" updated to {new_budget}.', 'success')
    return redirect(url_for('admin.manage_tags'))

@admin_bp.route('/stats')
@login_required
def stats():
    tags = Tag.query.all()
    chart_url = None
    if tags:
        data = []
        for tag in tags:
            spent = sum(e.amount for e in tag.expenses if e.status == 'approved')
            data.append({'Tag': tag.name, 'Spent': spent, 'Budget': tag.budget})
        df = pd.DataFrame(data).set_index('Tag')
        if not df.empty:
            # ç»˜åˆ¶æ¯ä¸ªåˆ†ç±»çš„æ”¯å‡º vs é¢„ç®—æŸ±çŠ¶å›¾
            fig, ax = plt.subplots(figsize=(6,4))
            df.plot(kind='bar', ax=ax)
            plt.title('Spending by Category')
            plt.ylabel('Amount')
            plt.tight_layout()
            # ä¿å­˜å›¾è¡¨åˆ°é™æ€æ–‡ä»¶
            chart_path = os.path.join(os.getcwd(), 'static', 'stats.png')
            fig.savefig(chart_path)
            plt.close(fig)
            # ä¸ºé¿å…æµè§ˆå™¨ç¼“å­˜ï¼ŒåŠ æ—¶é—´æˆ³å‚æ•°
            chart_url = url_for('static', filename='stats.png') + '?v=' + str(int(time.time()))
    total_spent = sum(e.amount for e in Expense.query.filter_by(status='approved').all())
    total_budget = sum(tag.budget for tag in tags)
    return render_template('admin/stats.html', chart_url=chart_url, total_spent=total_spent, total_budget=total_budget)

@admin_bp.route('/export/csv')
@login_required
def export_csv():
    # å¯¼å‡ºæ‰€æœ‰å·²æ‰¹å‡†çš„æŠ¥é”€è®°å½•ä¸º CSV
    expenses = Expense.query.filter_by(status='approved').all()
    data = []
    for e in expenses:
        data.append({
            'ID': e.id,
            'User': e.user.username,
            'Category': e.tag.name,
            'Amount': e.amount,
            'Purpose': e.purpose,
            'Date': e.date.strftime('%Y-%m-%d')
        })
    df = pd.DataFrame(data)
    output = io.BytesIO()
    df.to_csv(output, index=False)
    output.seek(0)
    return send_file(output, as_attachment=True, download_name='expenses.csv', mimetype='text/csv')

@admin_bp.route('/export/excel')
@login_required
def export_excel():
    # å¯¼å‡ºæ‰€æœ‰å·²æ‰¹å‡†çš„æŠ¥é”€è®°å½•ä¸º Excel
    expenses = Expense.query.filter_by(status='approved').all()
    data = []
    for e in expenses:
        data.append({
            'ID': e.id,
            'User': e.user.username,
            'Category': e.tag.name,
            'Amount': e.amount,
            'Purpose': e.purpose,
            'Date': e.date.strftime('%Y-%m-%d')
        })
    df = pd.DataFrame(data)
    output = io.BytesIO()
    df.to_excel(output, index=False)
    output.seek(0)
    return send_file(output, as_attachment=True, download_name='expenses.xlsx',
                     mimetype='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')

å‰ç«¯æ¨¡æ¿æ–‡ä»¶

templates/base.html (åŸºç¡€é¡µé¢æ¨¡æ¿)

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Team Accounting{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">TeamAccounting</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav me-auto">
                {% if current_user.is_authenticated %}
                    {% if current_user.is_admin %}
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('admin.pending_requests') }}">Pending Requests</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('admin.manage_tags') }}">Manage Tags</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('admin.stats') }}">Statistics</a></li>
                    {% else %}
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('main.submit_request') }}">Submit Expense</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('main.my_requests') }}">My Requests</a></li>
                    {% endif %}
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('auth.logout') }}">Logout ({{ current_user.username }})</a></li>
                {% else %}
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('auth.login') }}">Login</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('auth.register') }}">Register</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
<div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

templates/auth/login.html (ç™»å½•é¡µé¢)

{% extends 'base.html' %}
{% block title %}Login - Team Accounting{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-4">
    <h3 class="mb-3">Login</h3>
    <form action="{{ url_for('auth.login') }}" method="post">
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input name="username" type="text" class="form-control" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input name="password" type="password" class="form-control" required>
      </div>
      <button type="submit" class="btn btn-primary">Login</button>
      <p class="mt-2">No account? <a href="{{ url_for('auth.register') }}">Register here</a>.</p>
    </form>
  </div>
</div>
{% endblock %}

templates/auth/register.html (æ³¨å†Œé¡µé¢)

{% extends 'base.html' %}
{% block title %}Register - Team Accounting{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-4">
    <h3 class="mb-3">Register</h3>
    <form action="{{ url_for('auth.register') }}" method="post">
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input name="username" type="text" class="form-control" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input name="password" type="password" class="form-control" required>
      </div>
      <button type="submit" class="btn btn-success">Register</button>
      <p class="mt-2">Have an account? <a href="{{ url_for('auth.login') }}">Login here</a>.</p>
    </form>
  </div>
</div>
{% endblock %}

templates/main/submit.html (æŠ¥é”€ç”³è¯·æäº¤é¡µé¢)

{% extends 'base.html' %}
{% block title %}Submit Expense - Team Accounting{% endblock %}
{% block content %}
<h3 class="mb-3">Submit Expense Request</h3>
<form action="{{ url_for('main.submit_request') }}" method="post" class="mb-3">
  <div class="mb-3">
    <label for="amount" class="form-label">Amount</label>
    <input name="amount" type="number" step="any" class="form-control" required>
  </div>
  <div class="mb-3">
    <label for="purpose" class="form-label">Purpose</label>
    <input name="purpose" type="text" class="form-control" required>
  </div>
  <div class="mb-3">
    <label for="date" class="form-label">Date</label>
    <input name="date" type="date" class="form-control" required>
  </div>
  <div class="mb-3">
    <label for="tag" class="form-label">Category</label>
    <select name="tag" class="form-select" required>
      <option value="">-- Select Category --</option>
      {% for tag in tags %}
        <option value="{{ tag.id }}">{{ tag.name }}</option>
      {% endfor %}
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
{% endblock %}

templates/main/my_requests.html (â€œæˆ‘çš„ç”³è¯·â€é¡µé¢)

{% extends 'base.html' %}
{% block title %}My Requests - Team Accounting{% endblock %}
{% block content %}
<h3 class="mb-3">My Expense Requests</h3>
{% if expenses %}
<table class="table table-bordered">
  <thead>
    <tr><th>Date</th><th>Category</th><th>Purpose</th><th>Amount</th><th>Status</th></tr>
  </thead>
  <tbody>
    {% for exp in expenses %}
      <tr>
        <td>{{ exp.date.strftime('%Y-%m-%d') }}</td>
        <td>{{ exp.tag.name }}</td>
        <td>{{ exp.purpose }}</td>
        <td>{{ "%.2f"|format(exp.amount) }}</td>
        <td>
          {% if exp.status == 'pending' %}
            <span class="badge bg-secondary">Pending</span>
          {% elif exp.status == 'approved' %}
            <span class="badge bg-success">Approved</span>
          {% elif exp.status == 'rejected' %}
            <span class="badge bg-danger">Rejected</span>
          {% endif %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>You have not submitted any expenses yet.</p>
{% endif %}
{% endblock %}

templates/admin/pending.html (å¾…å®¡æ ¸ç”³è¯·åˆ—è¡¨é¡µé¢)

{% extends 'base.html' %}
{% block title %}Pending Requests - Team Accounting{% endblock %}
{% block content %}
<h3 class="mb-3">Pending Expense Requests</h3>
{% if expenses %}
<table class="table table-bordered">
  <thead>
    <tr><th>User</th><th>Date</th><th>Category</th><th>Purpose</th><th>Amount</th><th>Actions</th></tr>
  </thead>
  <tbody>
    {% for exp in expenses %}
      <tr>
        <td>{{ exp.user.username }}</td>
        <td>{{ exp.date.strftime('%Y-%m-%d') }}</td>
        <td>{{ exp.tag.name }}</td>
        <td>{{ exp.purpose }}</td>
        <td>{{ "%.2f"|format(exp.amount) }}</td>
        <td>
          <form action="{{ url_for('admin.approve_request', expense_id=exp.id) }}" method="post" class="d-inline">
            <button type="submit" class="btn btn-sm btn-success">Approve</button>
          </form>
          <form action="{{ url_for('admin.reject_request', expense_id=exp.id) }}" method="post" class="d-inline">
            <button type="submit" class="btn btn-sm btn-danger">Reject</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>No pending requests.</p>
{% endif %}
{% endblock %}

templates/admin/tags.html (åˆ†ç±»é¢„ç®—ç®¡ç†é¡µé¢)

{% extends 'base.html' %}
{% block title %}Manage Categories - Team Accounting{% endblock %}
{% block content %}
<h3 class="mb-3">Manage Budget Categories</h3>
<p>Total Budget: {{ total_budget }}, Total Spent: {{ total_spent }}, Remaining: {{ total_remaining }}</p>
<table class="table table-bordered mb-3">
  <thead>
    <tr><th>Category</th><th>Budget</th><th>Spent</th><th>Remaining</th></tr>
  </thead>
  <tbody>
    {% for tag in tags %}
      <tr>
        <td>{{ tag.name }}</td>
        <td>
          <form action="{{ url_for('admin.update_tag', tag_id=tag.id) }}" method="post" class="d-inline">
            <input type="number" name="budget" value="{{ tag.budget }}" step="any" class="form-control d-inline-block" style="width: 8em;">
            <button type="submit" class="btn btn-sm btn-primary">Update</button>
          </form>
        </td>
        <td>{{ "%.2f"|format(tag.current_usage) }}</td>
        <td>{{ "%.2f"|format(tag.budget - tag.current_usage) }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
<h5>Add New Category</h5>
<form action="{{ url_for('admin.add_tag') }}" method="post" class="row g-2 align-items-center">
  <div class="col-auto">
    <input name="name" type="text" placeholder="Category name" class="form-control" required>
  </div>
  <div class="col-auto">
    <input name="budget" type="number" step="any" placeholder="Budget" class="form-control" required>
  </div>
  <div class="col-auto">
    <button type="submit" class="btn btn-success">Add Category</button>
  </div>
</form>
{% endblock %}

templates/admin/stats.html (è´¢åŠ¡ç»Ÿè®¡é¡µé¢)

{% extends 'base.html' %}
{% block title %}Statistics - Team Accounting{% endblock %}
{% block content %}
<h3 class="mb-3">Financial Statistics</h3>
<p>Total Budget: {{ total_budget }}, Total Spent: {{ total_spent }}, Remaining: {{ total_budget - total_spent }}</p>
{% if chart_url %}
<div class="mb-3">
    <img src="{{ chart_url }}" alt="Spending Chart" class="img-fluid">
</div>
{% else %}
<p>No data available for chart.</p>
{% endif %}
<a href="{{ url_for('admin.export_csv') }}" class="btn btn-outline-primary me-2">Download CSV</a>
<a href="{{ url_for('admin.export_excel') }}" class="btn btn-outline-primary">Download Excel</a>
{% endblock %}

ä¾èµ–å®‰è£…ä¸è¿è¡Œè¯´æ˜

1. å®‰è£…ä¾èµ–ï¼š ç¡®ä¿å·²å®‰è£… Python 3ï¼Œä½¿ç”¨ pip å®‰è£…æ‰€éœ€ä¾èµ–åº“ï¼š

åˆ›å»º requirements.txt æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

Flask
Flask-SQLAlchemy
Flask-Login
pandas
matplotlib
openpyxl

ç„¶åè¿è¡Œå®‰è£…ï¼š

pip install -r requirements.txt

2. åˆå§‹åŒ–æ•°æ®åº“ï¼š æ— éœ€æ‰‹åŠ¨å»ºåº“ï¼Œé¦–æ¬¡è¿è¡Œåº”ç”¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»º SQLite æ•°æ®åº“æ–‡ä»¶ team_accounting.db å¹¶å»ºè¡¨ã€‚

3. è¿è¡Œåº”ç”¨ï¼š åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

python app.py

åº”ç”¨å°†å¯åŠ¨åœ¨é»˜è®¤çš„ http://127.0.0.1:5000ã€‚

4. åˆå§‹è®¾ç½®ï¼š ç”¨æµè§ˆå™¨è®¿é—®åº”ç”¨ï¼Œé¦–æ¬¡ä½¿ç”¨è¯·å…ˆæ³¨å†Œè´¦æˆ·ã€‚ç¬¬ä¸€ä¸ªæ³¨å†Œçš„ç”¨æˆ·å°†è‡ªåŠ¨è·å¾—ç®¡ç†å‘˜æƒé™ï¼ˆç”¨äºå®¡æ‰¹æŠ¥é”€å’Œç®¡ç†é¢„ç®—åˆ†ç±»ï¼‰ã€‚ç®¡ç†å‘˜ç™»å½•åï¼Œå¯è¿›å…¥â€œManage Tagsâ€é¡µé¢æ·»åŠ æŠ¥é”€åˆ†ç±»åŠé¢„ç®—é¢åº¦ã€‚

5. æäº¤å’Œå®¡æ ¸æµç¨‹ï¼š æ™®é€šå›¢é˜Ÿæˆå‘˜ç™»å½•åï¼Œå¯åœ¨â€œSubmit Expenseâ€é¡µé¢æäº¤æŠ¥é”€ç”³è¯·ï¼ˆå¡«å†™é‡‘é¢ã€ç”¨é€”ã€æ—¥æœŸå¹¶é€‰æ‹©åˆ†ç±»ï¼‰ã€‚æäº¤åç”³è¯·çŠ¶æ€ä¸ºå¾…å®¡æ ¸ï¼Œç®¡ç†å‘˜ç™»å½•åå¯åœ¨â€œPending Requestsâ€é¡µé¢æŸ¥çœ‹æ‰€æœ‰å¾…å®¡æ ¸ç”³è¯·ï¼Œæ‰§è¡Œæ‰¹å‡†æˆ–æ‹’ç»æ“ä½œã€‚
	â€¢	å½“ç®¡ç†å‘˜ç‚¹å‡»æ‰¹å‡†æ—¶ï¼Œç³»ç»Ÿä¼šæ ¡éªŒè¯¥ç”³è¯·æ‰€å±åˆ†ç±»çš„å·²ç”¨é‡‘é¢æ˜¯å¦æœªè¶…å‡ºé¢„ç®—ï¼›è‹¥è¶…è¿‡é¢„ç®—åˆ™æ— æ³•æ‰¹å‡†ã€ç³»ç»Ÿå°†æç¤ºè¶…é¢ã€‘ã€‚
	â€¢	æ‰¹å‡†åçš„ç”³è¯·çŠ¶æ€å˜ä¸ºå·²æ‰¹å‡†ï¼Œå†™å…¥æ­£å¼è´¦æœ¬ï¼ˆå³æ•°æ®åº“ä¸­çŠ¶æ€æ ‡è®°ä¸º approvedï¼‰ï¼›æ‹’ç»çš„ç”³è¯·çŠ¶æ€æ ‡è®°ä¸º rejectedï¼ˆæˆå‘˜å¯æ ¹æ®éœ€è¦é‡æ–°æäº¤ç”³è¯·ï¼‰ã€‚

6. è´¢åŠ¡ç»Ÿè®¡ä¸å¯¼å‡ºï¼š ç®¡ç†å‘˜å¯åœ¨â€œStatisticsâ€é¡µé¢æŸ¥çœ‹æ•´ä½“è´¢åŠ¡ç»Ÿè®¡ï¼š
	â€¢	ç³»ç»Ÿä½¿ç”¨ Pandas æ±‡æ€»å„åˆ†ç±»çš„æ”¯å‡ºå¹¶ä½¿ç”¨ Matplotlib ç”ŸæˆæŸ±çŠ¶å›¾ï¼Œå±•ç¤ºæ¯ä¸ªåˆ†ç±»çš„å·²ç”¨é‡‘é¢ä¸é¢„ç®—å¯¹æ¯”ã€‚
	â€¢	ç‚¹å‡»é¡µé¢ä¸Šçš„â€œDownload CSVâ€æˆ–â€œDownload Excelâ€æŒ‰é’®ï¼Œå¯å¯¼å‡ºæ‰€æœ‰å·²æ‰¹å‡†æŠ¥é”€è®°å½•çš„æ˜ç»†è¡¨ï¼ˆåˆ†åˆ«ä¸º CSV æˆ– Excel æ–‡ä»¶ï¼‰ã€‚

ä»¥ä¸Šå³ä¸ºå®Œæ•´å¯è¿è¡Œé¡¹ç›®çš„ä»£ç ç»“æ„å’ŒåŠŸèƒ½è¯´æ˜ã€‚å°†ä¸Šè¿°æ–‡ä»¶ç»„ç»‡å¥½ç›®å½•ç»“æ„åï¼ŒæŒ‰ç…§è¯´æ˜å®‰è£…ä¾èµ–å¹¶è¿è¡Œåº”ç”¨ï¼Œå³å¯å¯åŠ¨å›¢é˜Ÿè®°è´¦ç½‘ç«™ã€‚ç¥ä½¿ç”¨æ„‰å¿«ï¼

éå¸¸å¥½ï¼ä½ å·²ç»å»ºç«‹å¹¶æ¿€æ´»äº†è™šæ‹Ÿç¯å¢ƒï¼Œæ¥ä¸‹æ¥è¦å®ç° Flask å…è®¸å¤–ç½‘è®¿é—®ï¼Œåªéœ€è¦ä¿®æ”¹å¯åŠ¨æ–¹å¼å³å¯ã€‚

â¸»

âœ… ä¿®æ”¹ Flask å¯åŠ¨æ–¹å¼ï¼šç»‘å®šå…¬ç½‘ IP

é»˜è®¤ Flask åªç›‘å¬ 127.0.0.1ï¼Œåªèƒ½æœ¬æœºè®¿é—®ã€‚ä½ è¦è®©å…¶ä»–è®¾å¤‡è®¿é—®ï¼Œéœ€è¦ç»‘å®š 0.0.0.0ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

# å¼€å‘æ¨¡å¼å¯åŠ¨ + å¤–ç½‘å¯è®¿é—®
export FLASK_ENV=development
export FLASK_APP=app.py
flask run --host=0.0.0.0 --port=5000

æˆ–è€…ç›´æ¥ç”¨ Pythonï¼š

python app.py

å¹¶åœ¨ä½ çš„ app.py æ–‡ä»¶æœ«å°¾æ·»åŠ è¿™ä¸€è¡Œï¼š

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)


â¸»

ğŸ“¡ è¡¥å……è¯´æ˜ï¼š

âœ… å¤–ç½‘è®¿é—®éœ€è¦æ»¡è¶³ä¸¤ä¸ªå‰æï¼š
	1.	ä½ æœ¬åœ°çš„ IP æ˜¯å±€åŸŸç½‘ä¸­çš„å±€åŸŸåœ°å€ï¼ˆå¦‚ 192.168.x.xï¼‰
	â€¢	åœ¨åŒä¸€ WiFi ä¸‹ï¼Œæ‰‹æœºæˆ–åˆ«çš„è®¾å¤‡å¯ç›´æ¥è®¿é—®ä½ çš„ IPã€‚
	2.	é˜²ç«å¢™æ²¡æœ‰é˜»æŒ¡ 5000 ç«¯å£
	â€¢	macOS é»˜è®¤å…è®¸ localhost æœåŠ¡ï¼Œé€šå¸¸æ²¡é—®é¢˜ï¼›
	â€¢	Windows ç”¨æˆ·è¦æ£€æŸ¥é˜²ç«å¢™ï¼›
	â€¢	Linux ç”¨æˆ·å¯ä½¿ç”¨ ufw allow 5000/tcp å¼€æ”¾ç«¯å£ã€‚

â¸»

ğŸŒ æµ‹è¯•æ–¹æ³•ï¼š

âœ… æœ¬æœºæµ‹è¯•ï¼š

curl http://127.0.0.1:5000

âœ… å±€åŸŸç½‘å…¶ä»–è®¾å¤‡è®¿é—®ï¼š

åœ¨æµè§ˆå™¨è®¿é—®ä½ çš„ç”µè„‘ IPï¼Œä¾‹å¦‚ï¼š

http://192.168.1.10:5000

å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ IPï¼š

ifconfig  # mac æˆ– Linux
ipconfig  # Windows


â¸»

ğŸ”’ å¦‚æœä½ è¦éƒ¨ç½²åˆ°å…¬ç½‘æœåŠ¡å™¨ï¼š

æ¯”å¦‚æ”¾åˆ°é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼Œå°±è¿˜éœ€è¦ï¼š
	â€¢	å¼€æ”¾äº‘æœåŠ¡å™¨é˜²ç«å¢™çš„ç«¯å£ï¼›
	â€¢	ä½¿ç”¨ gunicorn + nginx éƒ¨ç½²ï¼›
	â€¢	è®¾ç½®åŸŸåå’Œ SSL è¯ä¹¦ï¼ˆå¯é€‰ï¼‰ã€‚

â¸»

å°†ä¸€ä¸ª Flask é¡¹ç›®ä¸Šä¼ åˆ° GitHub çš„å®Œæ•´æµç¨‹å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š

â¸»

ğŸ§­ ä¸€ã€å‡†å¤‡é˜¶æ®µ

âœ… é¡¹ç›®ç›®å½•ç»“æ„ï¼ˆå‡è®¾ä½ å·²ç»å®Œæˆäº†é¡¹ç›®å¼€å‘ï¼‰ï¼š

team_accounting/
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ templates/
â”œâ”€â”€ static/
â”œâ”€â”€ instance/
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md


â¸»

ğŸš€ äºŒã€Git å’Œ GitHub ä¸Šä¼ æµç¨‹

âœ… ç¬¬ä¸€æ­¥ï¼šè¿›å…¥é¡¹ç›®æ ¹ç›®å½•

cd /path/to/your/project/team_accounting


â¸»

âœ… ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ– Git ä»“åº“

git init


â¸»

âœ… ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º .gitignore æ–‡ä»¶ï¼ˆå¾ˆé‡è¦ï¼‰

# .gitignore æ–‡ä»¶å†…å®¹å»ºè®®å¦‚ä¸‹ï¼š
__pycache__/
*.pyc
*.pyo
*.pyd
.env
myenv/
instance/
*.sqlite3
*.db
*.log
.DS_Store

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ GitHub æä¾›çš„ Python æ¨¡æ¿ï¼š

curl -o .gitignore https://raw.githubusercontent.com/github/gitignore/main/Python.gitignore


â¸»

âœ… ç¬¬å››æ­¥ï¼šæ·»åŠ è¿œç¨‹ GitHub ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡åˆ›å»ºï¼Œè¯·ç™»å½• github.com â†’ æ–°å»ºä¸€ä¸ªä»“åº“ï¼‰

git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å.git


â¸»

âœ… ç¬¬äº”æ­¥ï¼šæäº¤ä»£ç 

git add .
git commit -m "Initial commit: Flask team accounting tool"


â¸»

âœ… ç¬¬å…­æ­¥ï¼šæ¨é€åˆ° GitHubï¼ˆå¦‚æœæ˜¯æ–°ä»“åº“ï¼Œè¦åŠ ä¸Š -u origin mainï¼‰

git branch -M main  # ä¿è¯åˆ†æ”¯æ˜¯ mainï¼ˆGitHub é»˜è®¤ï¼‰
git push -u origin main


â¸»

ğŸ“¦ ç¬¬ä¸ƒæ­¥ï¼šç”Ÿæˆ requirements.txt

è¿™ä¸€æ­¥æ˜¯åœ¨ä½ çš„è™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œçš„ï¼š

pip freeze > requirements.txt

ä¸Šä¼ è¿™ä¸ªæ–‡ä»¶ååˆ«äººå¯ä»¥ç”¨ä¸‹é¢å‘½ä»¤è¿˜åŸç¯å¢ƒï¼š

pip install -r requirements.txt


â¸»

ğŸ“„ ç¬¬å…«æ­¥ï¼šå†™ README.md

å†™æ¸…æ¥šï¼š
	â€¢	é¡¹ç›®ç®€ä»‹
	â€¢	å¦‚ä½•è¿è¡Œ
	â€¢	æ‰€éœ€ä¾èµ–
	â€¢	ä½¿ç”¨ç¤ºä¾‹

ä¾‹å­ï¼š

# Team Accounting - Flask é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªç”¨äºå›¢é˜Ÿè®°è´¦ç®¡ç†çš„ Flask åº”ç”¨ï¼Œæ”¯æŒç”¨æˆ·æ³¨å†Œç™»å½•ã€å¼€é”€æŠ¥å¤‡ã€å®¡æ ¸æµç¨‹ä»¥åŠè´¢åŠ¡ç»Ÿè®¡ã€‚

## å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Benjaminisgood/Benony.git
cd ä»“åº“å

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows ç”¨ venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œé¡¹ç›®
python app.py

---

## ğŸ” å¯é€‰ï¼šæ·»åŠ  `.env` æ”¯æŒï¼ˆç¯å¢ƒå˜é‡ä¿æŠ¤ï¼‰

åœ¨ Flask é¡¹ç›®ä¸­ä½ å¯èƒ½ä¼šç”¨åˆ°æ•°æ®åº“ URI æˆ– SECRET_KEYï¼Œå¯ä»¥å†™åœ¨ `.env` æ–‡ä»¶ä¸­ï¼ˆå¹¶åœ¨ `.gitignore` ä¸­å¿½ç•¥ï¼‰ï¼š

```env
SECRET_KEY=your-secret-key
DATABASE_URL=sqlite:///team.db

ç„¶ååœ¨é¡¹ç›®ä¸­ç”¨ python-dotenv åŠ è½½ï¼š

from dotenv import load_dotenv
load_dotenv()


â¸»

âœ… å®Œæ•´æµç¨‹å¤ç›˜ï¼š

æ­¥éª¤	å‘½ä»¤
åˆå§‹åŒ– Git	git init
æ·»åŠ è¿œç¨‹ä»“åº“	git remote add origin ...
æ·»åŠ é¡¹ç›®æ–‡ä»¶	git add .
æäº¤	git commit -m "init"
æ¨é€åˆ° GitHub	git push -u origin main
å¯¼å‡ºä¾èµ–	pip freeze > requirements.txt
åˆ›å»º .gitignore	æ‰‹åŠ¨æˆ– curl
æ·»åŠ  README.md	è‡ªå·±å†™è¯´æ˜


â¸»

å¦‚ä½ éœ€è¦æˆ‘ç›´æ¥å¸®ä½ ç”Ÿæˆ .gitignoreã€README.mdã€ç”šè‡³ .env.templateï¼Œè¯·å‘Šè¯‰æˆ‘ä½ é¡¹ç›®ç»“æ„å’Œä¸»è¦ä¾èµ–å³å¯ï¼Œæˆ‘å¯ä»¥è‡ªåŠ¨ç”Ÿæˆå®Œæ•´æ¨¡æ¿ç»™ä½ ã€‚æ˜¯å¦éœ€è¦æˆ‘ç°åœ¨å¸®ä½ ç”Ÿæˆï¼Ÿ